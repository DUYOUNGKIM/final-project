<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="manifest" href="site.web-manifest">
    <link rel="apple-touch-icon" href="icon.png">
    <!-- Place favicon.ico in the root directory -->
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/menu.css">
    <link rel="stylesheet" href="../css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">
    <title>Title</title>
    <style>
        .container{
            width: 1200px;
            height: 1000px;
            padding: 0;
            background-color: #FFFBF4;
            align-items: center;
        }
        .sing_up-header{
            margin: 50px 100px;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .btn{
            color: white;
            border: none;
            background-color: #F46B3F;
            height: 50px;

        }
        #nextbtn{
            width: 700px;
        }
        .sing_up-header__text{
            color: #F46B3F;
        }
        .s1{
            margin: 50px 100px;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;

        }
        .s1 input{
            width: 700px;
        }
        .s1 textarea{
            width: 700px;
        }
        .filebox input[type="file"] {
            position: absolute;
            width: 0;
            height: 0;
            padding: 0;
            overflow: hidden;
            border: 0;
        }
        .filebox .upload-name {
            display: inline-block;
            height: 60px;
            padding: 0 10px;
            vertical-align: middle;
            border: 1px solid #dddddd;
            width: 700px;
            color: #999999;
        }
        .check{

        }



    </style>
</head>
<body>
<header class="menu">
    <div class="logo-wrap">
        <img class="img" src="../static/img/logo_main.png" alt="로고" />
    </div>
    <div class="item-list">
        <a href="#">코스추천</a>
        <a href="#">커뮤니티</a>
        <a href="#">쇼핑몰</a>
        <a href="#">공지사항</a>
    </div>
    <div class="right">
        <div class="icon-friend">
            <img class="img" src="../static/img/icon_friends.png" />
        </div>
        <div class="my-profile-wrap">
            <div class="img-wrap">
                <img class="img" src="../static/img/icon_profile_default.png " />
            </div>
            <p class="text">나와바리나와바님</p>
        </div>
    </div>
    <div class="line"></div>
</header>
<main class="container">
    <section class="">
        <header class="sing_up-header">
            <h1 class="sing_up-header__title">회원가입</h1>
            <h1><p class=" sing_up-header__text">STEP 01</p></h1>
        </header>
        <div class="s1">
        <div class="form-floating">
            <input type="password" class="form-control" id="adminPassword" placeholder="Password">
            <label for="adminPassword">관리자 비밀번호</label>

        </div>
        <br>
        <div class="form-floating mb-3">
            <input type="email" class="form-control" id="inputEmail" placeholder="name@example.com">
            <label for="inputEmail">Email address</label>
            <label class="check">중복확인</label>

        </div>
            <br>
            <div class="form-floating">
                <input type="password" class="form-control" id="inputPwd" placeholder="Password">
                <label for="inputPwd">비밀번호</label>
            </div>
            <br>
            <div class="form-floating">
                <textarea class="form-control" placeholder="Leave a comment here" id="inputNickName" style="resize : none;"></textarea>
                <label for="inputNickName">닉네임</label>
                <label  class="check">중복확인</label>

            </div>
            <br>
            <div class="form-floating">
                <textarea class="form-control" placeholder="Leave a comment here" id="inputAge" style="resize : none;"></textarea>
                <label for="inputAge">나이</label>
            </div>
            <br>
            <div class="form-floating">
                <textarea class="form-control" placeholder="Leave a comment here" id="inputPhone" style="resize : none;"></textarea>
                <label for="inputPhone">휴대폰번호</label>
            </div>
            <br>
            <div class="img-upload-box">
                <div class="mb-3">
                    <div class="filebox">
                        <input class="upload-name" value="이미지 업로드" placeholder="첨부파일">
<!--                        <label for="file" class="upload-label">파일찾기</label>-->
                        <button id="my-button" onclick="onClickUpload();">파일 불러오기</button>
                        <input type="file" id="file">
                    </div>
                </div>
            </div>
            <br>
            <div class="d-grid gap-2 col-6 mx-auto" id="nextbtn">
                <button class="btn" type="button" style="border-radius: 5px;" onclick="handleCreatePeople()"><b>다음으로</b></button>
            </div>
            </div>
    </section>
</main>
<script>
    function onClickUpload() {
        let myInput = document.getElementById("my-input");
        myInput.click();
    }

  function handleCreatePeople() {
      var settings = {
          "url": "http://localhost:8080/auth/signup",
          "method": "POST",
          "timeout": 0,
          "headers": {
              "Content-Type": "application/json",
              // "Authurization" :""
          },
          "data": JSON.stringify({
              "email": $('#inputEmail').val(),
              "password": $('#inputPwd').val(),
              "nickName": $('#inputNickName').val(),
              "age": Number($('#inputAge').val()),
              "phoneNumber": $('#inputPhone').val(),
              "imageUrl": "default.jpg"
          }),
      };

      $.ajax(settings).done(function (response) {
              console.log(response);
              alert("회원가입 완료")
              window.location.href = "b-1_login.html";
              settings.headers.Authurization = response.toString();
      })
      .fail(function (response){
          console.log(response);
          alert("회원가입 실패")
      });
  }
</script>
</body>

</html>